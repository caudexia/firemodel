"use strict";var h=Object.create;var s=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var b=(e,i)=>{for(var r in i)s(e,r,{get:i[r],enumerable:!0})},g=(e,i,r,d)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of T(i))!w.call(e,a)&&a!==r&&s(e,a,{get:()=>i[a],enumerable:!(d=y(i,a))||d.enumerable});return e};var P=(e,i,r)=>(r=e!=null?h(v(e)):{},g(i||!e||!e.__esModule?s(r,"default",{value:e,enumerable:!0}):r,e)),M=e=>g(s({},"__esModule",{value:!0}),e);var E={};b(E,{createWebModel:()=>x,initializeWeb:()=>D});module.exports=M(E);var n=P(require("firebase/app")),Q=require("firebase/firestore");function p(e,i){return{validate(r){try{return i.parse(r)}catch{return}},async get(r){throw new Error("Method not implemented.")},async add(r){throw new Error("Method not implemented.")},async update(r,d){throw new Error("Method not implemented.")},async delete(r){throw new Error("Method not implemented.")}}}var t=require("firebase/firestore"),D=e=>(n.getApps().length?n.getApp():n.initializeApp(e),(0,t.getFirestore)()),x=(e,i)=>{let r=p(e,i);return{...r,async get(d){let a=await(0,t.getDoc)((0,t.doc)((0,t.getFirestore)(),e,d));if(a.exists())return r.validate(a.data())},async add(d){let a=r.validate(d);if(!a)throw new Error("firemodel: Validation failed for the provided data.");return(await(0,t.addDoc)((0,t.collection)((0,t.getFirestore)(),e),a)).id},async update(d,a){let o=r.validate(a);if(!o)throw new Error("firemodel: Validation failed for the provided data.");await(0,t.updateDoc)((0,t.doc)((0,t.getFirestore)(),e,d),o)},async delete(d){await(0,t.deleteDoc)((0,t.doc)((0,t.getFirestore)(),e,d))},subscribeToRealtimeUpdates(d,a){let o=(0,t.collection)((0,t.getFirestore)(),e);return a&&(o=a(o)),(0,t.onSnapshot)(o,l=>{let c=[];l.forEach(m=>{let u=m.data(),f=r.validate(u);f&&c.push({id:m.id,data:f,exists:m.exists()})}),d(c)})}}};0&&(module.exports={createWebModel,initializeWeb});
//# sourceMappingURL=index.js.map