"use strict";var l=Object.create;var s=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var w=(t,i)=>{for(var r in i)s(t,r,{get:i[r],enumerable:!0})},f=(t,i,r,d)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of y(i))!P.call(t,a)&&a!==r&&s(t,a,{get:()=>i[a],enumerable:!(d=h(i,a))||d.enumerable});return t};var b=(t,i,r)=>(r=t!=null?l(v(t)):{},f(i||!t||!t.__esModule?s(r,"default",{value:t,enumerable:!0}):r,t)),D=t=>f(s({},"__esModule",{value:!0}),t);var x={};w(x,{createWebModel:()=>M,initializeWeb:()=>O});module.exports=D(x);var o=b(require("firebase/app")),_=require("firebase/firestore");function m(t,i){return{validate(r){try{return i.parse(r)}catch{return}},async get(r){throw new Error("Method not implemented.")},async add(r){throw new Error("Method not implemented.")},async update(r,d){throw new Error("Method not implemented.")},async delete(r){throw new Error("Method not implemented.")}}}var e=require("firebase/firestore"),O=t=>(o.getApps().length?o.getApp():o.initializeApp(t),(0,e.getFirestore)()),M=(t,i)=>{let r=m(t,i);return{...r,async get(d){let a=await(0,e.getDoc)((0,e.doc)((0,e.getFirestore)(),t,d));if(a.exists())return r.validate(a.data())},async add(d){let a=r.validate(d);if(!a)throw new Error("firemodel: Validation failed for the provided data.");return(await(0,e.addDoc)((0,e.collection)((0,e.getFirestore)(),t),a)).id},async update(d,a){let n=r.validate(a);if(!n)throw new Error("firemodel: Validation failed for the provided data.");await(0,e.updateDoc)((0,e.doc)((0,e.getFirestore)(),t,d),n)},async delete(d){await(0,e.deleteDoc)((0,e.doc)((0,e.getFirestore)(),t,d))},subscribeToRealtimeUpdates(d,a){let n=(0,e.collection)((0,e.getFirestore)(),t);return a&&(n=a(n)),(0,e.onSnapshot)(n,c=>{let p=[];c.forEach(u=>{let g=u.data(),I=r.validate(g);I&&p.push({id:u.id,data:I,exists:u.exists()})}),d(p)})}}};0&&(module.exports={createWebModel,initializeWeb});
//# sourceMappingURL=index.js.map