"use strict";var h=Object.create;var s=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var P=(e,i)=>{for(var r in i)s(e,r,{get:i[r],enumerable:!0})},c=(e,i,r,d)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of v(i))!w.call(e,a)&&a!==r&&s(e,a,{get:()=>i[a],enumerable:!(d=T(i,a))||d.enumerable});return e};var b=(e,i,r)=>(r=e!=null?h(y(e)):{},c(i||!e||!e.__esModule?s(r,"default",{value:e,enumerable:!0}):r,e)),M=e=>c(s({},"__esModule",{value:!0}),e);var S={};P(S,{createWebModel:()=>E,initializeWeb:()=>D});module.exports=M(S);var n=b(require("firebase/app")),x=require("firebase/firestore");function g(e,i){return{validate(r){try{return i.parse(r)}catch{return}},async get(r){throw new Error("Method not implemented.")},async add(r){throw new Error("Method not implemented.")},async update(r,d){throw new Error("Method not implemented.")},async delete(r){throw new Error("Method not implemented.")}}}var t=require("firebase/firestore"),D=e=>(n.getApps().length?n.getApp():n.initializeApp(e),(0,t.getFirestore)()),E=(e,i)=>{let r=g(e,i);return{...r,async get(d){let a=await(0,t.getDoc)((0,t.doc)((0,t.getFirestore)(),e,d));if(a.exists())return r.validate(a.data())},async add(d){let a=r.validate(d);if(!a)throw new Error("firemodel: Validation failed for the provided data.");return(await(0,t.addDoc)((0,t.collection)((0,t.getFirestore)(),e),a)).id},async update(d,a){let o=r.validate(a);if(!o)throw new Error("firemodel: Validation failed for the provided data.");await(0,t.updateDoc)((0,t.doc)((0,t.getFirestore)(),e,d),o)},async delete(d){await(0,t.deleteDoc)((0,t.doc)((0,t.getFirestore)(),e,d))},subscribeToRealtimeUpdates(d,a){let o=(0,t.collection)((0,t.getFirestore)(),e);return a&&(o=a(o)),(0,t.onSnapshot)(o,p=>{let m=[];p.forEach(l=>{let u=l.data(),f=r.validate(u);f&&m.push(f)}),d(m)})}}};0&&(module.exports={createWebModel,initializeWeb});
//# sourceMappingURL=index.js.map