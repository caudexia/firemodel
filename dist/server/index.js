"use strict";var f=Object.create;var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var g=(e,r)=>{for(var t in r)a(e,t,{get:r[t],enumerable:!0})},c=(e,r,t,d)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of u(r))!v.call(e,i)&&i!==t&&a(e,i,{get:()=>r[i],enumerable:!(d=p(r,i))||d.enumerable});return e};var T=(e,r,t)=>(t=e!=null?f(h(e)):{},c(r||!e||!e.__esModule?a(t,"default",{value:e,enumerable:!0}):t,e)),w=e=>c(a({},"__esModule",{value:!0}),e);var S={};g(S,{createServerModel:()=>M,getFirestoreInstanceServer:()=>y,initializeServer:()=>P});module.exports=w(S);var n=T(require("firebase-admin"));function m(e,r){return{validate(t){try{return r.parse(t)}catch{return}},async get(t){throw new Error("Method not implemented.")},async add(t){throw new Error("Method not implemented.")},async update(t,d){throw new Error("Method not implemented.")},async delete(t){throw new Error("Method not implemented.")}}}var l=null,y=()=>{if(!l)throw new Error("firemodel has not been initialized. Please call the initializeServer function first.");return l},P=(e,r)=>{n.default.initializeApp({credential:n.default.credential.cert(e),databaseURL:r}),l=n.default.firestore()},M=(e,r)=>{let t=m(e,r),d=n.default.firestore();return{...t,async get(i){let o=await d.collection(e).doc(i).get();if(o.exists)return t.validate(o.data())},async add(i){let o=t.validate(i);if(!o)throw new Error("firemodel: Validation failed for the provided data.");return(await d.collection(e).add(o)).id},async update(i,o){let s=t.validate(o);if(!s)throw new Error("firemodel: Validation failed for the provided data.");await d.collection(e).doc(i).update(s)},async delete(i){await d.collection(e).doc(i).delete()}}};0&&(module.exports={createServerModel,getFirestoreInstanceServer,initializeServer});
//# sourceMappingURL=index.js.map