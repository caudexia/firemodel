"use strict";var c=Object.create;var a=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var v=(e,r)=>{for(var t in r)a(e,t,{get:r[t],enumerable:!0})},p=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of f(r))!h.call(e,i)&&i!==t&&a(e,i,{get:()=>r[i],enumerable:!(n=I(r,i))||n.enumerable});return e};var g=(e,r,t)=>(t=e!=null?c(m(e)):{},p(r||!e||!e.__esModule?a(t,"default",{value:e,enumerable:!0}):t,e)),w=e=>p(a({},"__esModule",{value:!0}),e);var O={};v(O,{createServerModel:()=>M,getFirestoreInstanceServer:()=>y,initializeServer:()=>P});module.exports=w(O);var o=g(require("firebase-admin"));function l(e,r){return{validate(t){try{return r.parse(t)}catch{return}},async get(t){throw new Error("Method not implemented.")},async add(t){throw new Error("Method not implemented.")},async update(t,n){throw new Error("Method not implemented.")},async delete(t){throw new Error("Method not implemented.")}}}var u=null,y=()=>{if(!u)throw new Error("firemodel has not been initialized. Please call the initializeServer function first.");return u},P=(e,r)=>{o.default.initializeApp({credential:o.default.credential.cert(e),databaseURL:r}),u=o.default.firestore()},M=(e,r)=>{let t=l(e,r),n=o.default.firestore();return{...t,async get(i){let d=await n.collection(e).doc(i).get();if(d.exists)return t.validate(d.data())},async add(i){let d=t.validate(i);if(!d)throw new Error("firemodel: Validation failed for the provided data.");return(await n.collection(e).add(d)).id},async update(i,d){let s=t.validate(d);if(!s)throw new Error("firemodel: Validation failed for the provided data.");await n.collection(e).doc(i).update(s)},async delete(i){await n.collection(e).doc(i).delete()}}};0&&(module.exports={createServerModel,getFirestoreInstanceServer,initializeServer});
//# sourceMappingURL=index.js.map