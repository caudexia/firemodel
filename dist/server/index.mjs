import o from"firebase-admin";function u(t,n){return{validate(e){return n.parse(e)},async get(e){throw new Error("Method not implemented.")},async add(e){throw new Error("Method not implemented.")},async update(e,d){throw new Error("Method not implemented.")},async delete(e){throw new Error("Method not implemented.")}}}var s=null,I=()=>{if(!s)throw new Error("firemodel has not been initialized. Please call the initializeServer function first.");return s},f=(t,n)=>{o.initializeApp({credential:o.credential.cert(t),databaseURL:n}),s=o.firestore()},m=(t,n)=>{let e=u(t,n),d=o.firestore();return{...e,async get(r){let i=await d.collection(t).doc(r).get();if(i.exists)return e.validate(i.data())},async add(r){let i=e.validate(r);if(!i)throw new Error("firemodel: Validation failed for the provided data.");return(await d.collection(t).add(i)).id},async update(r,i){let a=e.validate(i);if(!a)throw new Error("firemodel: Validation failed for the provided data.");await d.collection(t).doc(r).update(a)},async delete(r){await d.collection(t).doc(r).delete()}}};export{m as createServerModel,I as getFirestoreInstanceServer,f as initializeServer};
//# sourceMappingURL=index.mjs.map