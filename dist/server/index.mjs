import n from"firebase-admin";function l(t,o){return{validate(e){try{return o.parse(e)}catch{return}},async get(e){throw new Error("Method not implemented.")},async add(e){throw new Error("Method not implemented.")},async update(e,d){throw new Error("Method not implemented.")},async delete(e){throw new Error("Method not implemented.")}}}var s=null,p=()=>{if(!s)throw new Error("firemodel has not been initialized. Please call the initializeServer function first.");return s},u=(t,o)=>{n.initializeApp({credential:n.credential.cert(t),databaseURL:o}),s=n.firestore()},h=(t,o)=>{let e=l(t,o),d=n.firestore();return{...e,async get(r){let i=await d.collection(t).doc(r).get();if(i.exists)return e.validate(i.data())},async add(r){let i=e.validate(r);if(!i)throw new Error("firemodel: Validation failed for the provided data.");return(await d.collection(t).add(i)).id},async update(r,i){let a=e.validate(i);if(!a)throw new Error("firemodel: Validation failed for the provided data.");await d.collection(t).doc(r).update(a)},async delete(r){await d.collection(t).doc(r).delete()}}};export{h as createServerModel,p as getFirestoreInstanceServer,u as initializeServer};
//# sourceMappingURL=index.mjs.map